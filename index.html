<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<head>
	<title>HostedPayment Test Page</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">

		$(function () {

			$("#btnOpenAuthorizeNetIFrame").click(function () {
				$("#add_payment").show();
				$("#send_token").attr({ "action": "https://test.authorize.net/payment/payment", "target": "add_payment" }).submit();
				$(window).scrollTop($('#add_payment').offset().top - 50);
			});

		});


</script>
</head>
<body>
	 
	<div>
		Open Authorize.Net in an iframe to complete transaction
		<button id="btnOpenAuthorizeNetIFrame" onclick="">Show Payment Form</button>
	</div>
	<div    id="iframe_holder" class="center-block" style="width:90%;max-width: 1000px">
		<iframe id="add_payment" class="embed-responsive-item panel" name="add_payment" width="100%"    frameborder="0" scrolling="no" hidden="true">
		</iframe>
	</div>
	<form id="send_token" action="" method="post" target="add_payment" >
		<input type="hidden" name="token" value="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.5KP3u95bQpv"/>
	</form>

	<script type="text/javascript">

		(function () {
			if (!window.AuthorizeNetIFrame) window.AuthorizeNetIFrame = {};
				AuthorizeNetIFrame.onReceiveCommunication = function (querystr) {
					var params = parseQueryString(querystr);
						switch (params["action"]) {
							case "successfulSave":
								break;
							case "cancel":
								break;
							case "resizeWindow":
								var w = parseInt(params["width"]);
								var h = parseInt(params["height"]);
								var ifrm = document.getElementById("add_payment");
								ifrm.style.width = w.toString() + "px";
								ifrm.style.height = h.toString() + "px";
								break;
							case "transactResponse":
								var ifrm = document.getElementById("add_payment");
								ifrm.style.display = 'none';
							}
					};

				function parseQueryString(str) {
					var vars = [];
					var arr = str.split('&');
					var pair;
					for (var i = 0; i < arr.length; i++) {
						pair = arr[i].split('=');
						vars.push(pair[0]);
						vars[pair[0]] = unescape(pair[1]);
						}
					return vars;
					}
		}());
	</script>
</body>
</html>
